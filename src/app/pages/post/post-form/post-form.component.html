<div fxLayoutAlign="center">
    <mat-card fxLayout="column" fxFlex="100" fxFlex.sm="85" fxFlex.gt-sm="75">

        <form autocomplete="off" novalidate [formGroup]="form" (submit)="save()">
            <mat-form-field>
                <input #imageURL matInput [placeholder]="'post.input.featured_image' | translate" name="featured_image"
                    formControlName="featured_image">
                <mat-error *ngIf="form.get('featured_image')?.hasError('url')">
                    {{ 'validation.url' | translate }}
                </mat-error>
            </mat-form-field>
            <figure *ngIf="imageURL.value">
                <img [src]="imageURL.value">
                <figcaption fxLayoutAlign="center center">
                    <button id="myDelButton" mat-fab color="primary" aria-label="delete post featured image">
                        <mat-icon>close</mat-icon>
                    </button>
                </figcaption>
            </figure>
            <mat-card-content>
                <mat-form-field>
                    <input autofocus matInput [placeholder]="'post.input.title' | translate" name="title"
                        formControlName="title">
                    <mat-error>
                        {{ 'validation.required' | translate }}
                    </mat-error>
                </mat-form-field>

                <div>
                    <tinymce matInput name="content" [config]="options" formControlName="content"></tinymce>
                </div>

                <!-- MATERIAL CHIPS -->
                <mat-form-field class="example-chip-list">
                    <mat-chip-list #chipList formArrayName="names">
                        <mat-chip *ngFor="let name of names.controls; let i=index;" [selectable]="selectable"
                            [removable]="removable" (removed)="remove(form, i)">
                            {{name.value}}
                            <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                        </mat-chip>
                        <input placeholder="Names" [matChipInputFor]="chipList" [matChipInputAddOnBlur]="addOnBlur"
                            (matChipInputTokenEnd)="add($event, form)">
                    </mat-chip-list>
                    <mat-error>Atleast 1 name need to be added</mat-error>
                </mat-form-field>
            </mat-card-content>
            <div align="end">
                <button type="submit" color="primary" mat-raised-button [disabled]="form.invalid && form.dirty">
                    {{ 'post.input.save' | translate }}
                </button>
            </div>
            <div>
                <pre>{{form.value | json}}</pre>
            </div>
        </form>
    </mat-card>
</div>